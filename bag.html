<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>what's in my bag âœ¨</title>

  <!-- GSAP + ScrollTrigger + Draggable -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet" />

  <style>
    /* â”€â”€ Reset & Base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --cream:   #fdf6ec;
      --blush:   #f5c6b0;
      --rose:    #e8836a;
      --brown:   #5c3d2e;
      --sage:    #a8c5a0;
      --lavender:#c9b8d8;
      --font-display: 'DM Serif Display', serif;
      --font-hand:    'Caveat', cursive;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--cream);
      color: var(--brown);
      font-family: var(--font-hand);
      overflow-x: hidden;
      cursor: default;
    }

    /* â”€â”€ Hero section (scroll trigger starts here) â”€â”€â”€â”€ */
    #hero {
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      position: relative;
    }

    #hero h1 {
      font-family: var(--font-display);
      font-style: italic;
      font-size: clamp(2.5rem, 7vw, 5.5rem);
      color: var(--brown);
      text-align: center;
      line-height: 1.1;
    }

    #hero p {
      font-size: 1.4rem;
      color: var(--rose);
      letter-spacing: 0.04em;
    }

    .scroll-hint {
      position: absolute;
      bottom: 2rem;
      font-size: 1.1rem;
      color: var(--rose);
      animation: bounce 2s ease-in-out infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50%       { transform: translateY(8px); }
    }

    /* â”€â”€ Sticky scene container â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #scene-wrapper {
      height: 400vh; /* controls scroll duration */
      position: relative;
    }

    #scene {
      position: sticky;
      top: 0;
      width: 100%;
      height: 100vh;
      overflow: hidden;
    }

    /* â”€â”€ Bag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #bag-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: clamp(220px, 30vw, 360px);
      z-index: 10;
      pointer-events: none;
    }

    #bag-container img {
      width: 100%;
      filter: drop-shadow(4px 8px 16px rgba(92,61,46,0.25));
    }

    /* â”€â”€ Items â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .bag-item {
      position: absolute;
      width: clamp(60px, 8vw, 110px);
      cursor: grab;
      user-select: none;
      z-index: 20;
      opacity: 0; /* revealed by GSAP */
      transition: filter 0.2s;
    }

    .bag-item:active { cursor: grabbing; }
    .bag-item:hover  { filter: drop-shadow(0 6px 14px rgba(92,61,46,0.3)) brightness(1.05); z-index: 100; }

    .bag-item img {
      width: 100%;
      height: auto;
      pointer-events: none;
      display: block;
    }

    /* label tooltip */
    .bag-item::after {
      content: attr(data-label);
      position: absolute;
      bottom: -1.6rem;
      left: 50%;
      transform: translateX(-50%);
      background: var(--brown);
      color: var(--cream);
      padding: 2px 8px;
      border-radius: 20px;
      font-size: 0.85rem;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.2s;
      pointer-events: none;
    }

    .bag-item:hover::after { opacity: 1; }

    /* â”€â”€ Footer / caption area â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #outro {
      min-height: 60vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
      padding: 4rem 2rem;
      text-align: center;
    }

    #outro h2 {
      font-family: var(--font-display);
      font-style: italic;
      font-size: clamp(2rem, 5vw, 3.5rem);
    }

    #outro p {
      font-size: 1.2rem;
      max-width: 480px;
      color: var(--rose);
    }

    /* â”€â”€ Decorative blobs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .blob {
      position: fixed;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.35;
      pointer-events: none;
      z-index: 0;
    }

    .blob-1 {
      width: 500px; height: 500px;
      background: var(--blush);
      top: -100px; right: -100px;
    }

    .blob-2 {
      width: 400px; height: 400px;
      background: var(--lavender);
      bottom: -80px; left: -80px;
    }

    /* â”€â”€ Reset button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #reset-btn {
      position: fixed;
      bottom: 1.5rem;
      right: 1.5rem;
      background: var(--brown);
      color: var(--cream);
      border: none;
      border-radius: 2rem;
      padding: 0.6rem 1.4rem;
      font-family: var(--font-hand);
      font-size: 1rem;
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s, transform 0.15s;
      z-index: 999;
    }

    #reset-btn.visible {
      opacity: 1;
      pointer-events: auto;
    }

    #reset-btn:hover { transform: scale(1.05); }
  </style>
</head>
<body>

  <!-- decorative blobs -->
  <div class="blob blob-1"></div>
  <div class="blob blob-2"></div>

  <!-- â”€â”€ HERO â”€â”€ -->
  <section id="hero">
    <h1>what's in<br/>my bag?</h1>
    <p>scroll to find out â†“</p>
    <span class="scroll-hint">â†“</span>
  </section>

  <!-- â”€â”€ STICKY SCENE â”€â”€ -->
  <div id="scene-wrapper">
    <div id="scene">

      <!-- BAG IMAGE â€” replace src with your bag PNG -->
      <div id="bag-container">
        <img src="images/bag.png" alt="my bag"
             onerror="this.src='';this.parentElement.innerHTML='<div style=\'width:280px;height:320px;background:#e8836a33;border:3px dashed #e8836a;border-radius:24px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;color:#e8836a;text-align:center;padding:1rem;\'>ðŸ‘œ<br/>drop your<br/>bag.png here</div>'" />
      </div>

      <div class="bag-item" data-label="bracelet"    data-x="-320" data-y="180"  data-rot="-15" style="width:70px">
        <img src="bag-proj/images/item-1.png" alt="bracelet"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:12px;width:70px;height:70px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ’„'; this.remove();" />
      </div>

      <div class="bag-item" data-label="frog"      data-x="280"  data-y="200"  data-rot="12"  style="width:100px">
        <img src="bag-proj/images/item-2.png" alt="frog"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#c9b8d8;border-radius:12px;width:100px;height:70px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ‘›'; this.remove();" />
      </div>

      <div class="bag-item" data-label="duck"       data-x="-200" data-y="-160" data-rot="5"   style="width:80px">
        <img src="bag-proj/images/item-3.png" alt="duck"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#a8c5a0;border-radius:12px;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ“±'; this.remove();" />
      </div>

      <div class="bag-item" data-label="marble"        data-x="200"  data-y="-180" data-rot="-20" style="width:75px">
        <img src="bag-proj/images/item-4.png" alt="marble"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#fdf6ec;border:2px solid #e8836a;border-radius:12px;width:75px;height:75px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ”‘'; this.remove();" />
      </div>

      <div class="bag-item" data-label="baby1"  data-x="-380" data-y="-80"  data-rot="8"   style="width:110px">
        <img src="bag-proj/images/item-5.png" alt="baby1
             onerror="this.src='';this.parentElement.style.cssText+=';background:#e8836a33;border-radius:12px;width:110px;height:60px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ•¶ï¸'; this.remove();" />
      </div>

      <div class="bag-item" data-label="baby2"    data-x="360"  data-y="-60"  data-rot="-10" style="width:90px">
        <img src="bag-proj/images/item-6.png" alt="baby2"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:8px;width:90px;height:110px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ““'; this.remove();" />
      </div>

      <div class="bag-item" data-label="lego"  data-x="-120" data-y="260"  data-rot="25"  style="width:95px">
        <img src="bag-proj/images/item-7.png" alt="lego"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#c9b8d8;border-radius:50%;width:95px;height:95px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸŽ§'; this.remove();" />
      </div>

      <div class="bag-item" data-label="crystal-green"  data-x="130"  data-y="270"  data-rot="-8"  style="width:65px">
        <img src="bag-proj/images/item-8.png" alt="crystal-green"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#a8c5a0;border-radius:12px;width:65px;height:100px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ§´'; this.remove();" />
      </div>

      <div class="bag-item" data-label="crystal-pink" data-x="-300" data-y="-220" data-rot="-5" style="width:70px">
        <img src="bag-proj/images/item-9.png" alt="crystal-pink"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#fdf6ec;border:2px solid #5c3d2e;border-radius:12px;width:70px;height:120px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ’§'; this.remove();" />
      </div>

      <div class="bag-item" data-label="crystal-blue"     data-x="310"  data-y="130"  data-rot="18"  style="width:80px">
        <img src="bag-proj/images/item-10.png" alt="crystal-blue"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:12px;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ”Œ'; this.remove();" />
      </div>

      <div class="bag-item" data-label="bottle-tab"     data-x="310"  data-y="130"  data-rot="18"  style="width:80px">
        <img src="bag-proj/images/item-11.png" alt="bottle-tab"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:12px;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ”Œ'; this.remove();" />
      </div>

      <div class="bag-item" data-label="fossil-type-thing"     data-x="310"  data-y="130"  data-rot="18"  style="width:80px">
        <img src="bag-proj/images/item-12.png" alt="fossil-type-thing"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:12px;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ”Œ'; this.remove();" />
      </div>

      <div class="bag-item" data-label="fortune"     data-x="310"  data-y="130"  data-rot="18"  style="width:80px">
        <img src="bag-proj/images/item-13.png" alt="fortune"
             onerror="this.src='';this.parentElement.style.cssText+=';background:#f5c6b0;border-radius:12px;width:80px;height:80px;display:flex;align-items:center;justify-content:center;font-size:2rem;'; this.parentElement.innerHTML+='ðŸ”Œ'; this.remove();" />
      </div>

    </div><!-- /scene -->
  </div><!-- /scene-wrapper -->

  <!-- â”€â”€ OUTRO â”€â”€ -->
  <section id="outro">
    <h2>that's everything âœ¨</h2>
    <p>drag things around, make a little mess â€” it's your bag after all.</p>
  </section>

  <button id="reset-btn">â†© reset positions</button>

  <script>
    gsap.registerPlugin(ScrollTrigger, Draggable);

    const items = gsap.utils.toArray('.bag-item');
    const cx = window.innerWidth  / 2;
    const cy = window.innerHeight / 2;

    // position every item in the center (hidden inside the bag) to start
    items.forEach(el => {
      gsap.set(el, {
        left: cx - el.offsetWidth  / 2,
        top:  cy - el.offsetHeight / 2,
        opacity: 0,
        scale: 0.6,
        rotation: 0,
        zIndex: 20,
      });
    });

    // â”€â”€ Staggered dump animation on scroll â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: '#scene-wrapper',
        start: 'top top',
        end:   'bottom bottom',
        scrub: 1.5,
      }
    });

    items.forEach((el, i) => {
      const tx = cx + parseFloat(el.dataset.x) - el.offsetWidth  / 2;
      const ty = cy + parseFloat(el.dataset.y) - el.offsetHeight / 2;
      const rot = parseFloat(el.dataset.rot) || 0;

      tl.to(el, {
        left:     tx,
        top:      ty,
        opacity:  1,
        scale:    1,
        rotation: rot,
        ease:     'back.out(1.4)',
        duration: 0.6,
      }, i * 0.08); // slight stagger
    });

    // â”€â”€ Make items draggable after they appear â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    Draggable.create(items, {
      type: 'x,y',
      edgeResistance: 0.65,
      bounds: window,
      onPress() { gsap.to(this.target, { scale: 1.1, duration: 0.15 }); },
      onRelease() {
        gsap.to(this.target, {
          scale:    1,
          rotation: gsap.utils.random(-20, 20),
          duration: 0.3,
          ease: 'elastic.out(1, 0.5)',
        });
      },
    });

    // â”€â”€ Show reset button once dumped â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    ScrollTrigger.create({
      trigger: '#scene-wrapper',
      start:   'top+=30% top',
      onEnter: () => document.getElementById('reset-btn').classList.add('visible'),
      onLeaveBack: () => document.getElementById('reset-btn').classList.remove('visible'),
    });

    // â”€â”€ Reset positions â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.getElementById('reset-btn').addEventListener('click', () => {
      items.forEach(el => {
        const tx = cx + parseFloat(el.dataset.x) - el.offsetWidth  / 2;
        const ty = cy + parseFloat(el.dataset.y) - el.offsetHeight / 2;
        gsap.to(el, {
          x:        0,
          y:        0,
          left:     tx,
          top:      ty,
          rotation: parseFloat(el.dataset.rot) || 0,
          scale:    1,
          duration: 0.8,
          ease:     'power3.out',
        });
      });
    });
  </script>

</body>
</html>
